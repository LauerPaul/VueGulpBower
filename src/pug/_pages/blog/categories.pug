.container-fluid
	.row
		.col-md-8
			v-card(:pagination.sync="pagination", select-all)
				v-toolbar(color="cyan", dark)
					v-icon mdi-archive
					v-toolbar-title Категории блога
					v-spacer
					v-btn(icon, @click="toggleSearch", title="Найти категорию")
						v-icon(v-if="!searchlineShow") mdi-magnify
						v-icon(v-else) mdi-close
					v-text-field(v-show="searchlineShow", v-model="search", label="Поиск", single-line, hide-details)
					v-btn(icon, title="Добавить категорию")
						v-icon add
				v-data-table.elevation-1(v-model="selected", :headers="headers", :items="categories", :pagination.sync="pagination", :search="search", item-key="name", sort-icon="mdi-menu-down", prev-icon="mdi-menu-left", next-icon="mdi-menu-right", :loading="loading")
					v-progress-linear(slot="progress", color="cyan", indeterminate)
					template(slot="items", slot-scope="props")
						tr(:active="props.selected", @click="props.selected = !props.selected", :id="'CatBlog_'+props.item.id")
							td.justify-center
								strong.opacity_6 {{ props.item.id }}
							td.text-left(:class="{opacity_6 : !props.item.status}")
								router-link(tag="button", :to="{name: 'blogCategory', params: {id: props.item.id}}") {{ props.item.name }}
							td.text-center {{ props.item.posts_count }}
							td.text-left
								v-icon(v-if="props.item.status", color="green") mdi-check-circle 
								v-icon(v-else, color="gray") mdi-close-circle 
							td.justify-center.layout.px-0
								.control-wrapper.d-flex.align-items-center
									v-btn.remove.mx-0(icon, @click.stop="selectItem = {name: props.item.name, id: props.item.id}; removeAlert()", title="Удалить")
										v-icon(color="gray") mdi-delete
									router-link(tag="button", :to="{name: 'blogCategory', params: {id: props.item.id}}", title="Редактировать")
										v-icon(color="blue") mdi-pencil
					template(slot="no-data")
						span(style="margin-left: 10px; display: inline-block;") Загружаю...

					v-alert(slot="no-results", :value="true", color="error", icon="warning") Совпадений с "{{ search }}" в категориях блога не найдено.


	v-dialog(v-model="dialogRemoveItem", persistent, max-width="500px")
		v-card
			v-card-title
				v-icon(color="red") mdi-alert
				span ПОДТВЕРДИТЕ ДЕЙСТВИЕ
				v-spacer
			v-card-text Вы действительно хотите удалить категорию блога с названием<br>
				strong "{{ selectItem.name }}"
				|&nbsp;и&nbsp;
				strong ID {{ selectItem.id }}
				|&nbsp;?
			v-card-actions
				v-spacer
				v-btn(color="red", flat, @click.stop="removeCategory") Да
				v-btn(color="green darken-1", flat, @click.stop="dialogRemoveItem=false") Отмена